tree_animation {
	texture = "tree.png"
	tilesize = 96
	frameDuration = 1
}

grass_animation {
	texture = "grass.png"
	tilesize = 24
}

bush_animation {
	texture = "bushes.png"
	tilesize = 48
	frameDuration = 1
}


animation {

	# Trees
	prop_tree_green = ${tree_animation} {
		loop = [0]
	}
	prop_tree_cyan = ${tree_animation} {
		loop = [1]
	}
	prop_tree_gold = ${tree_animation} {
		loop = [2]
	}
	prop_tree_purple = ${tree_animation} {
		loop = [3]
	}
	prop_tree_red = ${tree_animation} {
		loop = [4]
	}

	# Bushes
	prop_bush_green = ${bush_animation} {
		loop = [0]
	}
	prop_bush_green_small = ${bush_animation} {
		loop = [1]
	}
	prop_bush_gold = ${bush_animation} {
		loop = [2]
	}
	prop_bush_gold_small = ${bush_animation} {
		loop = [3]
	}
	prop_bush_red = ${bush_animation} {
		loop = [4]
	}
	prop_bush_red_small = ${bush_animation} {
		loop = [5]
	}
	prop_bush_cyan = ${bush_animation} {
		loop = [6]
	}
	prop_bush_cyan_small = ${bush_animation} {
		loop = [7]
	}
	prop_bush_purple = ${bush_animation} {
		loop = [8]
	}
	prop_bush_purple_small = ${bush_animation} {
		loop = [9]
	}

	# Grass
	prop_grass_1 = ${grass_animation} {
		frameDuration = 0.5
		loop = [0, 1, 2, 1]
	}
	prop_grass_2 = ${grass_animation} {
		frameDuration = 0.8
		loop = [3, 4]
	}
	prop_grass_3 = ${grass_animation} {
		frameDuration = 0.8
		loop = [5, 6, 7, 6]
	}
	prop_flower_1 = ${grass_animation} {
		frameDuration = 0.5
		loop = [8, 8, 9, 10, 10, 9]
	}
}

prototype {

	#
	# Trees
	#

	tree {
		boundingBox = [56, 86]
		drawOffset = [48, 6]
		boundingBoxOffset = [28, 6]
		health = 1
		solid = true
		static = true
		onHit: [
			{do:generate, count = [4, 8], prototype = particle_leave, x = [-40, 40], z = [40, 86], impulseX = [-5, 5], impulseY = [-10, 5], impulseZ = [25, 50]}
		]
		onExpire: [
			{do:generate, count = [30, 40], prototype = particle_leave, x = [-40, 40], z = [40, 86], impulseX = [-5, 5], impulseY = [-10, 5], impulseZ = [25, 50]}
			{do:deathClone, timeToLive = 0.5}
		]
	}

	# Green
	prop_tree_green = ${prototype.tree} {
		animation = prop_tree_green
	}

	# Cyan
	prop_tree_cyan = ${prototype.tree} {
		animation = prop_tree_cyan
	}

	# Gold
	prop_tree_gold = ${prototype.tree} {
		animation = prop_tree_gold
	}

	# Purple
	prop_tree_purple = ${prototype.tree} {
		animation = prop_tree_purple
	}

	# Red
	prop_tree_red = ${prototype.tree} {
		animation = prop_tree_red
	}

	#
	# Bushes
	#
	bush {
		boundingBox = [22, 22]
		drawOffset = [24, 10]
		boundingBoxOffset = [11, 2]
		health = 200
		solid = true
		static = true
		onHit: [
			{do:generate, count = [1, 2], prototype = particle_leave, x = [-8, 8], z = [8, 16], impulseX = [-5, 5], impulseY = [-5, 0], impulseZ = [25, 50]}
		]
		onExpire: [
			{do:generate, count = [4, 8], prototype = particle_leave, x = [-8, 8], z = [8, 16], impulseX = [-5, 5], impulseY = [-5, 0], impulseZ = [25, 50]}
			{do:deathClone, timeToLive = 0.5}
		]
	}
	bush_small = ${prototype.bush} {
		boundingBox = [12, 12]
		drawOffset = [24, 16]
		boundingBoxOffset = [6, 2]
		health = 100
	}

	# Green
	prop_bush_green = ${prototype.bush} {
		animation = prop_bush_green
	}

	# Green (small)
	prop_bush_green_small = ${prototype.bush_small} {
		animation = prop_bush_green_small
	}

	# Gold
	prop_bush_gold = ${prototype.bush} {
		animation = prop_bush_gold
	}

	# Gold (small)
	prop_bush_gold_small = ${prototype.bush_small} {
		animation = prop_bush_gold_small
	}

	# Red
	prop_bush_red = ${prototype.bush} {
		animation = prop_bush_red
	}

	# Red (small)
	prop_bush_red_small = ${prototype.bush_small} {
		animation = prop_bush_red_small
	}

	# Cyan
	prop_bush_cyan = ${prototype.bush} {
		animation = prop_bush_cyan
	}

	# Cyan (small)
	prop_bush_cyan_small = ${prototype.bush_small} {
		animation = prop_bush_cyan_small
	}

	# Purple
	prop_bush_purple = ${prototype.bush} {
		animation = prop_bush_purple
	}

	# Purple (small)
	prop_bush_purple_small = ${prototype.bush_small} {
		animation = prop_bush_purple_small
	}

	#
	# Grass
	#

	grass {
		offsetAnimation = true
		solid = false
		static = true
		canBeHit = true
		onHit: [
			{do:generate, count = [1, 2], prototype = particle_leave, x = [-8, 8], z = [2, 4], impulseX = [-5, 5], impulseY = [-5, 0], impulseZ = [25, 50]}
		]
		onExpire: [
			{do:generate, count = [2, 3], prototype = particle_leave, x = [-8, 8], z = [2, 4], impulseX = [-5, 5], impulseY = [-5, 0], impulseZ = [25, 50]}
			{do:deathClone, timeToLive = 0.5}
		]
	}

	# Grass 1
	prop_grass_1 = ${prototype.grass} {
		animation = prop_grass_1
		boundingBox = [16, 18]
		drawOffset = [12, 10]
		health = 1
	}

	# Grass 2
	prop_grass_2 = ${prototype.grass} {
		animation = prop_grass_2
		boundingBox = [5, 4]
		drawOffset = [12, 3]
		health = 1
	}

	# Grass 3
	prop_grass_3 = ${prototype.grass} {
		animation = prop_grass_3
		boundingBox = [6, 6]
		drawOffset = [12, 4]
		health = 1
	}

	# Flower 1
	prop_flower_1 = ${prototype.grass} {
		animation = prop_flower_1
		boundingBox = [10, 16]
		drawOffset = [12, 9]
		health = 1
	}

}
