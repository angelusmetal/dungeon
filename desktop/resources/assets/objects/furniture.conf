furniture_animation {
	texture = "furniture.png"
	tilesize = 48
	frameDuration = 1
}

furniture {
	canBlock = true
	shadow = rectangle
	onHit: [
		{do:generate, count = [2, 4], prototype = particle_wood, x = [-8, 8], z = [8, 16], impulseX = [-50, 50], impulseY = [-20, 0], impulseZ = [50, 100]}
		{do:sound, file = "audio/sound/break_wood.ogg", pitchVariance = 0.05}
	]
	onExpire: [
		{do:generate, count = [4, 8], prototype = particle_wood, x = [-8, 8], z = [8, 16], impulseX = [-50, 50], impulseY = [-20, 0], impulseZ = [50, 100]}
		{do:deathClone, timeToLive = 0.5}
		{do:sound, file = "audio/sound/break_wood.ogg", pitchVariance = 0.05}
	]
}

stone_furniture {
	canBlock = true
	shadow = rectangle
	onHit: [
		{do:generate, count = 1, prototype = particle_stone, x = [-8, 8], z = [8, 16], impulseX = [-20, 20], impulseY = [-20, 0], impulseZ = [10, 40]}
	]
	onExpire: [
		{do:generate, count = [4, 8], prototype = particle_stone, x = [-8, 8], z = [8, 16], impulseX = [-50, 50], impulseY = [-20, 0], impulseZ = [50, 100]}
		{do:deathClone, timeToLive = 0.5}
	]
}

wall_decoration {
	canBlock = false
	shadow = none
	drawOffset = [24, 4]
}

animation {

	prop_bookshelf = ${furniture_animation} {
		loop = [0]
	}
	prop_table_1 = ${furniture_animation} {
		loop = [1]
	}
	prop_table_2 = ${furniture_animation} {
		loop = [2]
	}
	prop_sideboard = ${furniture_animation} {
		loop = [3]
	}
	prop_torture_table = ${furniture_animation} {
		loop = [4]
	}
	prop_guillotine = ${furniture_animation} {
		loop = [5]
	}
	prop_iron_maiden = ${furniture_animation} {
		loop = [6]
	}
	prop_cage = ${furniture_animation} {
		loop = [7]
	}
	prop_painting_1 = ${furniture_animation} {
		loop = [8]
	}
	prop_painting_2 = ${furniture_animation} {
		loop = [9]
	}
	prop_painting_3 = ${furniture_animation} {
		loop = [10]
	}
	prop_crate_1 = ${furniture_animation} {
		loop = [11]
	}
	prop_crate_2 = ${furniture_animation} {
		loop = [12]
	}
	prop_crate_3 = ${furniture_animation} {
		loop = [13]
	}
	prop_crate_4 = ${furniture_animation} {
		loop = [14]
	}
	prop_barrel_1 = ${furniture_animation} {
		loop = [15]
	}
	prop_barrel_2 = ${furniture_animation} {
		loop = [16]
	}
	prop_barrel_3 = ${furniture_animation} {
		loop = [17]
	}
	prop_ring_1 = ${furniture_animation} {
		loop = [18]
	}
	prop_ring_2 = ${furniture_animation} {
		loop = [19]
	}
	prop_stand_1 = ${furniture_animation} {
		loop = [20]
	}
	prop_stand_2 = ${furniture_animation} {
		loop = [21]
	}
	prop_armor_stand_1 = ${furniture_animation} {
		loop = [22]
	}
	prop_armor_stand_2 = ${furniture_animation} {
		loop = [23]
	}
	prop_cauldron_1 = ${furniture_animation} {
		loop = [24]
	}
	prop_cauldron_2 = ${furniture_animation} {
		loop = [25]
	}
	prop_brazier_1 = ${furniture_animation} {
		loop = [26]
	}
	prop_chandelier_1 = ${furniture_animation} {
		loop = [27]
	}
	prop_banner_1 = ${furniture_animation} {
		loop = [28]
	}
	prop_banner_2 = ${furniture_animation} {
		loop = [29]
	}
	prop_banner_3 = ${furniture_animation} {
		loop = [30]
	}
	prop_banner_4 = ${furniture_animation} {
		loop = [31]
	}
	prop_banner_5 = ${furniture_animation} {
		loop = [32]
	}
	prop_banner_6 = ${furniture_animation} {
		loop = [33]
	}
	prop_banner_7 = ${furniture_animation} {
		loop = [34]
	}
	prop_banner_8 = ${furniture_animation} {
		loop = [35]
	}
	prop_banner_9 = ${furniture_animation} {
		loop = [36]
	}
	prop_grave_1 = ${furniture_animation} {
		loop = [37]
	}
	prop_grave_2 = ${furniture_animation} {
		loop = [38]
	}
	prop_grave_3 = ${furniture_animation} {
		loop = [39]
	}
	prop_grave_4 = ${furniture_animation} {
		loop = [40]
	}
	prop_grave_5 = ${furniture_animation} {
		loop = [41]
	}
	prop_grave_6 = ${furniture_animation} {
		loop = [42]
	}
	prop_grave_7 = ${furniture_animation} {
		loop = [43]
	}
	prop_grave_8 = ${furniture_animation} {
		loop = [44]
	}
	prop_grave_9 = ${furniture_animation} {
		loop = [45]
	}
	prop_grave_10 = ${furniture_animation} {
		loop = [46]
	}
	prop_grave_11 = ${furniture_animation} {
		loop = [47]
	}
	prop_pillar_1 = ${furniture_animation} {
		loop = [48]
	}
	prop_pillar_2 = ${furniture_animation} {
		loop = [49]
	}
	prop_pillar_3 = ${furniture_animation} {
		loop = [50]
	}
	prop_pillar_4 = ${furniture_animation} {
		loop = [51]
	}
	prop_pillar_5 = ${furniture_animation} {
		loop = [52]
	}
	prop_skeleton_1 = ${furniture_animation} {
		loop = [53]
	}
	prop_skeleton_2 = ${furniture_animation} {
		loop = [54]
	}
	prop_cell_1 = ${furniture_animation} {
		loop = [55]
	}
	prop_cell_2 = ${furniture_animation} {
		loop = [56]
	}

}

prototype {
	# Bookcase
	prop_bookshelf = ${furniture} {
		animation = prop_bookshelf
		boundingBox = [48, 10]
		boundingBoxOffset = [24, 0]
		drawOffset = [24, 5]
		health = 500
	}
	# Tables
	prop_table_1 = ${furniture} {
		animation = prop_table_1
		boundingBox = [42, 20]
		boundingBoxOffset = [21, 0]
		drawOffset = [24, 12]
		health = 500
	}
	prop_table_2 = ${prototype.prop_table_1} {
		animation = prop_table_2
	}
	prop_sideboard = ${furniture} {
		animation = prop_sideboard
		boundingBox = [18, 10]
		boundingBoxOffset = [9, 0]
		drawOffset = [24, 5]
	}
	prop_torture_table = ${furniture} {
		animation = prop_torture_table
		boundingBox = [42, 24]
		boundingBoxOffset = [24, 0]
		drawOffset = [27, 5]
	}
	prop_guillotine = ${furniture} {
		animation = prop_guillotine
		boundingBox = [30, 10]
		boundingBoxOffset = [15, 0]
		drawOffset = [24, 2]
	}
	prop_iron_maiden = ${furniture} {
		animation = prop_iron_maiden
		boundingBox = [20, 10]
		boundingBoxOffset = [7, 0]
		drawOffset = [24, 2]
		shadow = circle
	}
	# Cage
	prop_cage = ${stone_furniture} {
		animation = prop_cage
		boundingBox = [22, 10]
		boundingBoxOffset = [11, 0]
		drawOffset = [24, 6]
		health = 1000
		shadow = circle
	}
	# Paintings
	prop_painting_1 = ${wall_decoration} {
		animation = prop_painting_1
		boundingBox = [24, 28]
	}
	prop_painting_2 = ${wall_decoration} {
		animation = prop_painting_2
		boundingBox = [24, 28]
	}
	prop_painting_3 = ${wall_decoration} {
		animation = prop_painting_3
		boundingBox = [24, 28]
	}

	prop_crate_1 = ${furniture} {
		animation = prop_crate_1
		boundingBox = [24, 10]
		boundingBoxOffset = [12, 0]
		drawOffset = [24, 9]
	}
	prop_crate_2 = ${furniture} {
		animation = prop_crate_2
		boundingBox = [24, 10]
		boundingBoxOffset = [12, 0]
		drawOffset = [24, 9]
	}
	prop_crate_3 = ${furniture} {
		animation = prop_crate_3
		boundingBox = [26, 12]
		boundingBoxOffset = [12, 0]
		drawOffset = [23, 9]
	}
	prop_crate_4 = ${furniture} {
		animation = prop_crate_4
		boundingBox = [26, 12]
		boundingBoxOffset = [12, 0]
		drawOffset = [23, 9]
	}
	prop_barrel_1 = ${furniture} {
		animation = prop_barrel_1
		boundingBox = [18, 16]
		boundingBoxOffset = [9, 0]
		drawOffset = [24, 10]
	}
	prop_barrel_2 = ${furniture} {
		animation = prop_barrel_2
		boundingBox = [18, 16]
		boundingBoxOffset = [9, 0]
		drawOffset = [24, 10]
	}
	prop_barrel_3 = ${furniture} {
		animation = prop_barrel_3
		boundingBox = [18, 16]
		boundingBoxOffset = [9, 0]
		drawOffset = [24, 10]
	}
	prop_ring_1 = ${wall_decoration} {
		animation = prop_ring_1
		boundingBox = [24, 24]
	}
	prop_ring_2 = ${wall_decoration} {
		animation = prop_ring_2
		boundingBox = [24, 24]
	}
	prop_stand_1 = ${furniture} {
		animation = prop_stand_1
		boundingBox = [14, 6]
		boundingBoxOffset = [7, 0]
		drawOffset = [24, 4]
	}
	prop_stand_2 = ${furniture} {
		animation = prop_stand_2
		boundingBox = [14, 6]
		boundingBoxOffset = [7, 0]
		drawOffset = [24, 4]
	}
	prop_armor_stand_1 = ${furniture} {
		animation = prop_armor_stand_1
		boundingBox = [14, 6]
		boundingBoxOffset = [7, 0]
		drawOffset = [24, 4]
	}
	prop_armor_stand_2 = ${furniture} {
		animation = prop_armor_stand_2
		boundingBox = [14, 6]
		boundingBoxOffset = [7, 0]
		drawOffset = [24, 4]
	}
	prop_cauldron_1 = ${furniture} {
		animation = prop_cauldron_1
		boundingBox = [20, 10]
		boundingBoxOffset = [10, 0]
		drawOffset = [24, 5]
	}
	prop_cauldron_2 = ${furniture} {
		animation = prop_cauldron_2
		boundingBox = [20, 10]
		boundingBoxOffset = [10, 0]
		drawOffset = [24, 5]
		light = {diameter:120, color:${red}, texture:light.png, traits:[torchlight]}
	}
	prop_cauldron_3 = ${furniture} {
		animation = prop_cauldron_2
		boundingBox = [20, 10]
		boundingBoxOffset = [10, 0]
		drawOffset = [24, 19]
		light = {diameter:120, color:004400, texture:light.png, traits:[torchlight]}
		flare = {diameter:60, color:004400, texture:light_flare.png, traits:[torchlight]}
		z = 14
		with = [
			{do:generate, prototype = smoke_small_mild, frequency = 0.1, impulseX = [-2, 2], impulseY = [-2, 2], impulseZ = [30, 50], z = 18}
		]
	}
	prop_brazier_1 = ${furniture} {
		animation = prop_brazier_1
		boundingBox = [12, 12]
		drawOffset = [24, 26]
		light = {diameter:120, color:${red}, texture:light.png, traits:[torchlight, rotateSlow]}
		flare = {diameter:60, color:${red}, texture:light_flare.png, traits:[torchlight]}
		shadow = none
		z = 14
		with = [
			{do:generate, prototype = smoke_small_mild, frequency = 0.1, impulseX = [-2, 2], impulseY = [-2, 2], impulseZ = [30, 50], z = 18}
		]
	}
	prop_chandelier_1 = ${furniture} {
		animation = prop_chandelier_1
		boundingBox = [24, 24]
		boundingBoxOffset = [12, 0]
		drawOffset = [24, 24]
		canBlock = false
		shadow = none
		z = 48
		light = {diameter:240, color:${gold}, texture:light.png, traits:[torchlight]}
	}
	prop_banner_1 = ${wall_decoration} {
		animation = prop_banner_1
		boundingBox = [26, 42]
	}
	prop_banner_2 = ${wall_decoration} {
		animation = prop_banner_2
		boundingBox = [26, 42]
	}
	prop_banner_3 = ${wall_decoration} {
		animation = prop_banner_3
		boundingBox = [26, 42]
	}
	prop_banner_4 = ${wall_decoration} {
		animation = prop_banner_4
		boundingBox = [26, 42]
	}
	prop_banner_5 = ${wall_decoration} {
		animation = prop_banner_5
		boundingBox = [26, 42]
	}
	prop_banner_6 = ${wall_decoration} {
		animation = prop_banner_6
		boundingBox = [26, 42]
	}
	prop_banner_7 = ${wall_decoration} {
		animation = prop_banner_7
		boundingBox = [26, 42]
	}
	prop_banner_8 = ${wall_decoration} {
		animation = prop_banner_8
		boundingBox = [26, 42]
	}
	prop_banner_9 = ${wall_decoration} {
		animation = prop_banner_9
		boundingBox = [26, 42]
	}
	prop_grave_1 = ${stone_furniture} {
		animation = prop_grave_1
		boundingBox = [14, 6]
		boundingBoxOffset = [7, 0]
		drawOffset = [24, 11]
	}
	prop_grave_2 = ${stone_furniture} {
		animation = prop_grave_2
		boundingBox = [18, 6]
		boundingBoxOffset = [9, 0]
		drawOffset = [24, 11]
	}
	prop_grave_3 = ${stone_furniture} {
		animation = prop_grave_3
		boundingBox = [20, 6]
		boundingBoxOffset = [10, 0]
		drawOffset = [24, 11]
	}
	prop_grave_4 = ${stone_furniture} {
		animation = prop_grave_4
		boundingBox = [20, 6]
		boundingBoxOffset = [10, 0]
		drawOffset = [24, 11]
	}
	prop_grave_5 = ${stone_furniture} {
		animation = prop_grave_5
		boundingBox = [20, 6]
		boundingBoxOffset = [10, 0]
		drawOffset = [24, 11]
	}
	prop_grave_6 = ${stone_furniture} {
		animation = prop_grave_6
		boundingBox = [20, 6]
		boundingBoxOffset = [10, 0]
		drawOffset = [24, 11]
	}
	prop_grave_7 = ${stone_furniture} {
		animation = prop_grave_7
		boundingBox = [20, 6]
		boundingBoxOffset = [10, 0]
		drawOffset = [24, 11]
	}
	prop_grave_8 = ${stone_furniture} {
		animation = prop_grave_8
		boundingBox = [14, 6]
		boundingBoxOffset = [7, 0]
		drawOffset = [24, 11]
	}
	prop_grave_9 = ${stone_furniture} {
		animation = prop_grave_9
		boundingBox = [15, 6]
		boundingBoxOffset = [7, 0]
		drawOffset = [24, 11]
	}
	prop_grave_10 = ${stone_furniture} {
		animation = prop_grave_10
		boundingBox = [12, 6]
		boundingBoxOffset = [6, 0]
		drawOffset = [24, 11]
	}
	prop_grave_11 = ${stone_furniture} {
		animation = prop_grave_11
		boundingBox = [12, 6]
		boundingBoxOffset = [6, 0]
		drawOffset = [24, 11]
	}
	prop_pillar_1 = ${stone_furniture} {
		animation = prop_pillar_1
		boundingBox = [14, 8]
		boundingBoxOffset = [7, 0]
		drawOffset = [24, 11]
	}
	prop_pillar_2 = ${stone_furniture} {
		animation = prop_pillar_2
		boundingBox = [14, 8]
		boundingBoxOffset = [7, 0]
		drawOffset = [24, 11]
	}
	prop_pillar_3 = ${stone_furniture} {
		animation = prop_pillar_3
		boundingBox = [12, 8]
		boundingBoxOffset = [6, 0]
		drawOffset = [24, 11]
	}
	prop_pillar_4 = ${stone_furniture} {
		animation = prop_pillar_4
		boundingBox = [12, 8]
		boundingBoxOffset = [6, 0]
		drawOffset = [24, 11]
	}
	prop_pillar_5 = ${stone_furniture} {
		animation = prop_pillar_5
		boundingBox = [24, 8]
		boundingBoxOffset = [12, 0]
		drawOffset = [24, 11]
	}
	prop_skeleton_1 = ${furniture} {
		animation = prop_skeleton_1
		boundingBox = [20, 6]
		drawOffset = [24, 11]
		shadow = circle
	}
	prop_skeleton_2 = ${furniture} {
		animation = prop_skeleton_2
		boundingBox = [20, 6]
		drawOffset = [24, 11]
		shadow = circle
	}
	prop_cell_1 = ${wall_decoration} {
		animation = prop_cell_1
		boundingBox = [30, 33]
	}
	prop_cell_2 = ${wall_decoration} {
		animation = prop_cell_2
		boundingBox = [30, 33]
	}
}
